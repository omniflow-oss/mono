services:
  tools:
    build:
      context: ..
      dockerfile: infra/Dockerfile.tools
    working_dir: /work
    user: "${USER_ID:-1000}:${GROUP_ID:-1000}"
    volumes:
      - ..:/work
      - ../.cache/m2:/work/.m2
      - ../.cache/pnpm-store:/work/.pnpm-store
    environment:
      - USER_ID=${USER_ID:-1000}
      - GROUP_ID=${GROUP_ID:-1000}
      - HOME=/work
      - MAVEN_CONFIG=/work/.m2
    ports:
      - "3001-3099:3001-3099"
      - "8081-8199:8081-8199"
      - "5005:5005"
      - "5173:5173"
